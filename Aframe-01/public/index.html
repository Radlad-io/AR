<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Image based tracking AR.js demo</title>
  <!-- Styles -->
  <link rel="stylesheet" href="./css/style.css" />

  <!-- import aframe and then ar.js with image tracking / location based features -->
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

  <script src="./scripts/scripts.js"></script>
  <!-- Virtual log viewer -->
  <script src="https://markknol.github.io/console-log-viewer/console-log-viewer.js?closed=true?align=bottom"></script>

</head>

<body style="margin: 0px; overflow: hidden">

  <div class="arjs-loader">
    <img id="loading_image" src="https://kevinmerinsky.nyc3.digitaloceanspaces.com/ar-test/ar-test/images/Temple_Mark.png" />
    <div class="classic-4"></div>
  </div>
  
  <a-scene 
  stats
  vr-mode-ui="enabled: false;" 
  renderer="antialias: false;"
  embedded arjs="
        trackingMethod: best; 
        sourceType: webcam;
        sourceWidth:1920; 
        sourceHeight:1080; 
        displayWidth: 1920;
        displayHeight: 1080;
        debugUIEnabled: false;">

        <a-assets>
          <img id="video_tn" src="./images/play_button.png">
          <video 
            id="video_01" 
            src="./video/video_01.mp4"
            loop="true"
            autoplay
          >
          </video>
        </a-assets>

<!-- TODO: Test smoothing paramaters: https://ar-js-org.github.io/AR.js-Docs/image-tracking/ -->
    <a-nft 
      id="maker"
      type="nft"
      crossorigin="anonymous"
      size=".1"
      url="https://arjs-cors-proxy.herokuapp.com/https://kevinmerinsky.nyc3.digitaloceanspaces.com/ar-test/ar-test/maker_300_square_02/Marker_300_square_02"
      smooth="true"
      smoothCount="10"
      smoothTolerance=".01"
      smoothThreshold="5"
    >
        <!-- <a-video src="#video_tn" width="16" height="9" scale="50 50 50" position="350 0 0" rotation="-90 180 180"></a-video> -->
        <a-box color="tomato" depth="2" height="10" width="5" scale="50 50 50"></a-box>
    </a-nft>

    <a-entity camera></a-entity>
  </a-scene>

</body>

</html>